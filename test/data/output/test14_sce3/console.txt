
C:\Users\qianc\Desktop>cd C:\Users\qianc\Documents\Thesis\Code\SimpleMonitor

C:\Users\qianc\Documents\Thesis\Code\SimpleMonitor>cmd /k truffle test ./test/scenario3.js
Using network 'development'.

migrations deploying...
SingleHouseFactory ADDRESS: 0x7facd8ef3d6ae0be592da3abcc5c5ae38639474b
SinglePVFactory ADDRESS: 0x043d259a8ea5d4185d5e8cc7acb326aa9cf9ff93
SingleBatteryFactory ADDRESS: 0x83cb36805e0dd3ed2bd696d17500837eb081ed8a
SingleHeatPumpFactory ADDRESS: 0x3cd150dcc5107f2d77a9ba1cd0020e6b8d77ead7
SingleWaterTankFactory ADDRESS: 0xbedbf0acd03550a909addeb0d6bb5f4bc78dd5d5
GridFactory ADDRESS: 0xb8e1da611ced3c2f0162cceae50eba939cf3abc8
Configuration ADDRESS: 0x91cd2aea628b4d5c95c16667f94ff669cdbaf83e


----------------
DEPLOYMENT DONE!
----------------


Device name: admin0, account No. :0
Device name: grid0, account No. :1
Device name: house0, account No. :2
Device name: house1, account No. :3
Device name: house2, account No. :4
Device name: pv0, account No. :5
Device name: pv1, account No. :6
Device name: pv2, account No. :7
Device name: battery0, account No. :8
Device name: heatpump0, account No. :9
Device name: heatpump1, account No. :10
Device name: heatpump2, account No. :11
Device name: watertank0, account No. :12
Device name: watertank1, account No. :13
Device name: watertank2, account No. :14


  Contract: simpletest
Starting to register devices...
Registering grid 0
adding device type grid --> 5
Registering house 0
adding device type house --> 0
Registering house 1
adding device type house --> 0
Registering house 2
adding device type house --> 0
Registering pv 0
adding device type pv --> 1
Registering pv 1
adding device type pv --> 1
Registering pv 2
adding device type pv --> 1
Registering battery 0
adding device type battery --> 2
Registering heatpump 0
adding device type heatpump --> 3
Registering heatpump 1
adding device type heatpump --> 3
Registering heatpump 2
adding device type heatpump --> 3
Registering watertank 0
adding device type watertank --> 4
Registering watertank 1
adding device type watertank --> 4
Registering watertank 2
adding device type watertank --> 4
All participants registered
Starting to get contract addresses...
grid0 0xfd4ffd55cbd847d681a8f611f4039a8a550eb648
house0 0x26370e89f41ba606a200c429c08f8f802051d02e
house1 0xf7b084703a7c30c183c85dfbb33f51988b23cfed
house2 0x9dcc03b868511cfe4209b67d7b5dad0a549586e0
pv0 0x4d36b28da62b051603b621d777648e169cd4df36
pv1 0xead2a530e5a100c8f71a9173aaaee3a087835168
pv2 0xca06899727f9db9f70d4f7e557d938a58ff2df01
battery0 0xa704635e0f494a2eb7923f0f00c8dfc9dfefaefc
heatpump0 0x0ba5172e03821123fbbcd7ea4ff1e8d5b51f7ef4
heatpump1 0x224dc2ce3e0f3357877e8b32c67a9e35c91c85fc
heatpump2 0xda0eaf92cbb8cf05d8ed9f2792027f4652486832
watertank0 0x6f032ce50804ea3ac6042730ebbf6573940b586d
watertank1 0x8e46100af61067c5f9ee673d9e7e25f3e6d3b7ab
watertank2 0xa71cd0dc20e3c85cc6731b790797c2170b1e08e7
Got all contract addresses!
Starting to instatiate contracts...
Contracts instantiated!
Contract Creator =  0xfd4ffd55cbd847d681a8f611f4039a8a550eb648
Linking devices:
Linking house[0] with pv[0]
Linking house[1] with pv[1]
Linking house[1] with pv[2]
Linking house[2] with pv[1]
Linking house[2] with pv[2]
Linking battery[0] with house[0]
Linking battery[0] with house[2]
Linking battery[0] with pv[0]
Linking house[0] with watertank[0]
Linking watertank[0] with heatpump[0]
Linking pv[0] with heatpump[0]
Linking house[1] with watertank[1]
Linking watertank[1] with heatpump[1]
Linking pv[1] with heatpump[1]
Linking house[2] with watertank[2]
Linking watertank[2] with heatpump[2]
Linking pv[2] with heatpump[2]
Linking battery[0] with heatpump[0]
Linking of devices done.
Single HeatPump[0] has
Single HeatPump[1] has
Single HeatPump[2] has
heatpump2has connected WT as0x6f032ce50804ea3ac6042730ebbf6573940b586d
heatpump2has connected WT as0x8e46100af61067c5f9ee673d9e7e25f3e6d3b7ab
heatpump2has connected WT as0xa71cd0dc20e3c85cc6731b790797c2170b1e08e7
Here we are starting the 1st round.. .
{ pvPrice:
   [ { step1: [],
       step4: [],
       step5: [],
       deltaC: [],
       deltaG: [],
       factor: [],
       lastPrice: [],
       newPrice: [] },
     { step1: [],
       step4: [],
       step5: [],
       deltaC: [],
       deltaG: [],
       factor: [],
       lastPrice: [],
       newPrice: [] },
     { step1: [],
       step4: [],
       step5: [],
       deltaC: [],
       deltaG: [],
       factor: [],
       lastPrice: [],
       newPrice: [] } ] }
    v Should do all prep work (11488ms)
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 1 should be executed  (37028ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 2 should be executed  (37282ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 3 should be executed  (35996ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 4 should be executed  (36609ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 5 should be executed  (38495ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 6 should be executed  (36072ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 7 should be executed  (36008ms)
JSON saved
JSON saved
JSON saved
We are at step:  1
JSON saved
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 8 should be executed  (36990ms)
JSON saved
JSON saved
JSON saved
We are at step:  1
JSON saved
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 9 should be executed  (36602ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 10 should be executed  (38494ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 11 should be executed  (33821ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 12 should be executed  (33460ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 13 should be executed  (35164ms)
JSON saved
JSON saved
JSON saved
We are at step:  1
JSON saved
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 14 should be executed  (34392ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 15 should be executed  (34965ms)
JSON saved
JSON saved
JSON saved
We are at step:  1
JSON saved
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 16 should be executed  (35341ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 17 should be executed  (34690ms)
JSON saved
JSON saved
JSON saved
We are at step:  1
JSON saved
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 18 should be executed  (33911ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 19 should be executed  (33250ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 20 should be executed  (32785ms)
JSON saved
JSON saved
JSON saved
We are at step:  1
JSON saved
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 21 should be executed  (32552ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 22 should be executed  (32175ms)
JSON saved
JSON saved
JSON saved
We are at step:  1
JSON saved
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 23 should be executed  (32603ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 24 should be executed  (35449ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 25 should be executed  (33694ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 26 should be executed  (34131ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 27 should be executed  (36085ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 28 should be executed  (35994ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 29 should be executed  (35356ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 30 should be executed  (35255ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 31 should be executed  (35034ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 32 should be executed  (34660ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 33 should be executed  (35001ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 34 should be executed  (32901ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 35 should be executed  (34118ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 36 should be executed  (36573ms)
JSON saved
JSON saved
JSON saved
We are at step:  1
JSON saved
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 37 should be executed  (34247ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 38 should be executed  (38401ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 39 should be executed  (35037ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 40 should be executed  (34864ms)
JSON saved
JSON saved
JSON saved
We are at step:  1
JSON saved
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 41 should be executed  (34949ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 42 should be executed  (34318ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 43 should be executed  (35808ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 44 should be executed  (36352ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 45 should be executed  (35994ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 46 should be executed  (33362ms)
JSON saved
JSON saved
JSON saved
We are at step:  1
JSON saved
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 47 should be executed  (33565ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 48 should be executed  (36294ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 49 should be executed  (35271ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 50 should be executed  (34265ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 51 should be executed  (35828ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 52 should be executed  (35509ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 53 should be executed  (34244ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 54 should be executed  (33810ms)
JSON saved
JSON saved
JSON saved
We are at step:  1
JSON saved
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 55 should be executed  (35220ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 56 should be executed  (35838ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 57 should be executed  (36004ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 58 should be executed  (34704ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 59 should be executed  (34916ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 60 should be executed  (35627ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 61 should be executed  (36603ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 62 should be executed  (33866ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 63 should be executed  (34691ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 64 should be executed  (34928ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 65 should be executed  (35607ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 66 should be executed  (36870ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 67 should be executed  (34590ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 68 should be executed  (34334ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 69 should be executed  (33427ms)
JSON saved
JSON saved
JSON saved
We are at step:  1
JSON saved
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 70 should be executed  (33961ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 71 should be executed  (34009ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 72 should be executed  (34330ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 73 should be executed  (34289ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 74 should be executed  (33408ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 75 should be executed  (33402ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 76 should be executed  (32860ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 77 should be executed  (33062ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 78 should be executed  (33680ms)
JSON saved
JSON saved
JSON saved
We are at step:  1
JSON saved
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 79 should be executed  (32746ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 80 should be executed  (34578ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 81 should be executed  (33771ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 82 should be executed  (34667ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 83 should be executed  (34457ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 84 should be executed  (32976ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 85 should be executed  (35577ms)
JSON saved
JSON saved
We are at step:  1
JSON saved
JSON saved
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 86 should be executed  (34660ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 87 should be executed  (34540ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 88 should be executed  (36590ms)
JSON saved
JSON saved
JSON saved
We are at step:  1
JSON saved
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 89 should be executed  (32985ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
    1) round 90 should be executed

    Events emitted during test:
    ---------------------------

    ConsumptionLog(adr: 0x1ff24eeae666a4d9e5c49100ddbddf1ca89ddea2, consum: 1, consumAt: 1520928958)
    ConsumptionLog(adr: 0x806d7253d03d0994e779d1869851a334f8970c87, consum: 2, consumAt: 1520928958)
    ConsumptionLog(adr: 0x2694258e4adf8499e45cf50183fe350430603489, consum: 2, consumAt: 1520928958)
    ConsumptionLog(adr: 0x806d7253d03d0994e779d1869851a334f8970c87, consum: 2, consumAt: 1520928958)
    ConsumptionLog(adr: 0x1ff24eeae666a4d9e5c49100ddbddf1ca89ddea2, consum: 1, consumAt: 1520928958)
    ConsumptionLog(adr: 0x2694258e4adf8499e45cf50183fe350430603489, consum: 2, consumAt: 1520928958)
    ProductionLog(adr: 0xbcff25b18aa628d971afeb0af0cf5a01edfa8b3c, produc: 0, prodAt: 1520928958)
    ProductionLog(adr: 0x79c3839ab479cf0e1651d1c3ece0997781ff26b5, produc: 0, prodAt: 1520928958)
    ProductionLog(adr: 0x11984312c075c5cb817176dbc5773d453a9d320b, produc: 0, prodAt: 1520928958)
    PriceUpdate(updateAt: 1520928958)
    PriceUpdate(updateAt: 1520928958)
    PriceUpdate(updateAt: 1520928959)
    PriceUpdate(updateAt: 1520928959)
    ConsumptionUpdate(updateAt: 1520928959)
    ConsumptionUpdate(updateAt: 1520928959)
    ConsumptionUpdate(updateAt: 1520928959)
    PrsLog(price: 3, priceAt: 1520928977)
    PrsLog(price: 3, priceAt: 1520928978)

    ---------------------------
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 91 should be executed  (29968ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 92 should be executed  (29078ms)
JSON saved
JSON saved
JSON saved
We are at step:  1
JSON saved
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 93 should be executed  (30575ms)
JSON saved
JSON saved
JSON saved
We are at step:  1
JSON saved
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 94 should be executed  (29239ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
Step 1 done.
We are at step:  2
Step 2 done.
We are at step:  3
Step 3 done.
We are at step:  4
Step 4 done.
----------------print status-------------------
We are at step:  5
Step 5 done.
----------------print status-------------------
    v round 95 should be executed  (30092ms)
JSON saved
JSON saved
JSON saved
JSON saved
We are at step:  1
    2) round 96 should be executed
    > No events were emitted


  95 passing (55m)
  2 failing

  1) Contract: simpletest round 90 should be executed :
     Error: VM Exception while processing transaction: revert
      at Object.InvalidResponse (C:\Users\qianc\AppData\Roaming\npm\node_modules\truffle\build\cli.bundled.js:43303:16)
      at C:\Users\qianc\AppData\Roaming\npm\node_modules\truffle\build\cli.bundled.js:331156:36
      at C:\Users\qianc\AppData\Roaming\npm\node_modules\truffle\build\cli.bundled.js:314196:9
      at XMLHttpRequest.request.onreadystatechange (C:\Users\qianc\AppData\Roaming\npm\node_modules\truffle\build\cli.bundled.js:315621:13)
      at XMLHttpRequestEventTarget.dispatchEvent (C:\Users\qianc\AppData\Roaming\npm\node_modules\truffle\build\cli.bundled.js:70159:18)
      at XMLHttpRequest._setReadyState (C:\Users\qianc\AppData\Roaming\npm\node_modules\truffle\build\cli.bundled.js:70449:12)
      at XMLHttpRequest._onHttpResponseEnd (C:\Users\qianc\AppData\Roaming\npm\node_modules\truffle\build\cli.bundled.js:70604:12)
      at IncomingMessage.<anonymous> (C:\Users\qianc\AppData\Roaming\npm\node_modules\truffle\build\cli.bundled.js:70564:24)
      at endReadableNT (_stream_readable.js:1101:12)

  2) Contract: simpletest round 96 should be executed :
     TypeError: Cannot read property '0' of undefined
      at execute (C:/Users/qianc/Documents/Thesis/Code/SimpleMonitor/test/scenario3.js:405:55)
      at C:/Users/qianc/Documents/Thesis/Code/SimpleMonitor/test/scenario3.js:317:33
      at step (C:/Users/qianc/Documents/Thesis/Code/SimpleMonitor/test/scenario3.js:315:13)
      at _callee2$ (C:/Users/qianc/Documents/Thesis/Code/SimpleMonitor/test/scenario3.js:535:11)
      at tryCatch (node_modules\regenerator-runtime\runtime.js:65:40)
      at Generator.invoke [as _invoke] (node_modules\regenerator-runtime\runtime.js:303:22)
      at Generator.prototype.(anonymous function) [as next] (node_modules\regenerator-runtime\runtime.js:117:21)
      at step (test\scenario3.js:106:191)
      at test\scenario3.js:106:437
      at new Promise (<anonymous>)




C:\Users\qianc\Documents\Thesis\Code\SimpleMonitor>